{
  "name": "Revenue Cloud",
  "key": "revenueCloud",
  "description": "Salesforce Revenue Cloud (CPQ & Billing) capabilities and features",
  "indicators": [
    {
      "category": "CPQ Core",
      "description": "Core Configure, Price, Quote functionality",
      "justification": "These features form the foundation of CPQ operations",
      "items": [
        {
          "type": "feature",
          "name": "CPQ Core",
          "weight": 0.9,
          "description": "Core Configure, Price, Quote functionality",
          "justification": "Presence of CPQ objects indicates platform usage",
          "detectionMethods": [
            {"type": "metadata", "path": "CPQSettings", "enabled": true},
            {"type": "object", "name": "SBQQ__Quote__c"},
            {"type": "object", "name": "SBQQ__QuoteLine__c"}
          ],
          "edition": "Enterprise+"
        },
        {
          "type": "feature",
          "name": "Product Configuration",
          "weight": 0.8,
          "description": "Advanced product configuration rules",
          "justification": "Configuration rules indicate complex product setup",
          "detectionMethods": [
            {"type": "object", "name": "SBQQ__ProductRule__c"},
            {"type": "object", "name": "SBQQ__ConfigurationRule__c"},
            {"type": "object", "name": "SBQQ__ProductFeature__c"}
          ],
          "edition": "Enterprise+"
        },
        {
          "type": "feature",
          "name": "Pricing Rules",
          "weight": 0.8,
          "description": "Dynamic pricing and discounting",
          "justification": "Pricing rules indicate advanced pricing management",
          "detectionMethods": [
            {"type": "object", "name": "SBQQ__PriceRule__c"},
            {"type": "object", "name": "SBQQ__PriceCondition__c"},
            {"type": "object", "name": "SBQQ__PriceAction__c"}
          ],
          "edition": "Enterprise+"
        }
      ]
    },
    {
      "category": "Billing Management",
      "description": "Invoice and billing functionality",
      "justification": "Billing features indicate revenue operations maturity",
      "items": [
        {
          "type": "feature",
          "name": "Billing Management",
          "weight": 0.9,
          "description": "Invoice and billing functionality",
          "justification": "Billing configuration indicates revenue operations",
          "detectionMethods": [
            {"type": "object", "name": "blng__Invoice__c"},
            {"type": "object", "name": "blng__Payment__c"},
            {"type": "object", "name": "blng__BillingRule__c"}
          ],
          "edition": "Enterprise+"
        },
        {
          "type": "feature",
          "name": "Subscription Management",
          "weight": 0.8,
          "description": "Recurring revenue management",
          "justification": "Subscription objects indicate recurring business model",
          "detectionMethods": [
            {"type": "object", "name": "SBQQ__Subscription__c"},
            {"type": "object", "name": "blng__Subscription__c"},
            {"type": "object", "name": "blng__SubscriptionProduct__c"}
          ],
          "edition": "Enterprise+"
        }
      ]
    },
    {
      "category": "Revenue Recognition",
      "description": "Revenue scheduling and recognition",
      "justification": "Revenue recognition features indicate financial compliance",
      "items": [
        {
          "type": "feature",
          "name": "Revenue Recognition",
          "weight": 0.8,
          "description": "Revenue scheduling and recognition",
          "justification": "Revenue recognition indicates financial compliance",
          "detectionMethods": [
            {"type": "object", "name": "blng__RevenueRecognitionRule__c"},
            {"type": "object", "name": "blng__Revenue__c"},
            {"type": "object", "name": "blng__RevenueSchedule__c"}
          ],
          "edition": "Enterprise+"
        },
        {
          "type": "feature",
          "name": "Contract Management",
          "weight": 0.7,
          "description": "Revenue contract lifecycle",
          "justification": "Contract management indicates revenue agreements",
          "detectionMethods": [
            {"type": "object", "name": "SBQQ__Contract__c"},
            {"type": "object", "name": "blng__RevenueContract__c"},
            {"type": "object", "name": "blng__RevenueElement__c"}
          ],
          "edition": "Enterprise+"
        }
      ]
    },
    {
      "category": "Advanced Features",
      "description": "Advanced revenue management capabilities",
      "justification": "Advanced features indicate sophisticated revenue operations",
      "items": [
        {
          "type": "feature",
          "name": "Advanced Approvals",
          "weight": 0.7,
          "description": "Quote and order approval processes",
          "justification": "Approval processes indicate governance",
          "detectionMethods": [
            {"type": "object", "name": "SBQQ__QuoteProcess__c"},
            {"type": "object", "name": "SBQQ__ApprovalCondition__c"},
            {"type": "object", "name": "ProcessInstance", "pattern": "SBQQ__Quote__c"}
          ],
          "edition": "Enterprise+"
        },
        {
          "type": "feature",
          "name": "Tax Management",
          "weight": 0.6,
          "description": "Tax calculation and management",
          "justification": "Tax configuration indicates compliance management",
          "detectionMethods": [
            {"type": "object", "name": "blng__TaxRate__c"},
            {"type": "object", "name": "blng__TaxRule__c"},
            {"type": "object", "name": "blng__TaxTreatment__c"}
          ],
          "edition": "Enterprise+"
        },
        {
          "type": "feature",
          "name": "Payment Processing",
          "weight": 0.7,
          "description": "Payment gateway integration",
          "justification": "Payment processing indicates transaction handling",
          "detectionMethods": [
            {"type": "object", "name": "blng__PaymentGateway__c"},
            {"type": "object", "name": "blng__PaymentMethod__c"},
            {"type": "object", "name": "blng__PaymentTransaction__c"}
          ],
          "edition": "Enterprise+"
        }
      ]
    }
  ],
  "detectionRules": {
    "edition": {
      "Enterprise": {
        "requiredFeatures": ["CPQ Core", "Pricing Rules"],
        "minFeatures": 3
      },
      "Unlimited": {
        "requiredFeatures": ["CPQ Core", "Billing Management", "Revenue Recognition"],
        "minFeatures": 5
      }
    },
    "usage": {
      "Active": {
        "minFeatures": 6,
        "requiredFeatures": ["CPQ Core", "Billing Management"]
      },
      "Limited": {
        "minFeatures": 3,
        "requiredFeatures": ["CPQ Core"]
      },
      "Minimal": {
        "minFeatures": 1
      }
    }
  }
} 