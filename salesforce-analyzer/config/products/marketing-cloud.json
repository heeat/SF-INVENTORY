{
  "name": "Marketing Cloud",
  "key": "marketingCloud",
  "description": "Salesforce Marketing Cloud (formerly ExactTarget) capabilities and features",
  "features": [
    {
      "type": "feature",
      "name": "Email Studio Base",
      "description": "Core email marketing functionality",
      "productFamily": "Marketing Cloud",
      "justification": "Presence of email templates and configurations indicates email marketing usage",
      "detectionMethods": [
        {"type": "metadata", "path": "MarketingEmailSettings", "enabled": true},
        {"type": "object", "name": "EmailTemplate", "pattern": "ET_"},
        {"type": "object", "name": "MarketingEmailTemplate"}
      ],
      "edition": "Pro+"
    },
    {
      "type": "feature",
      "name": "Journey Builder",
      "description": "Customer journey automation",
      "productFamily": "Marketing Cloud",
      "justification": "Configured journeys indicate advanced marketing automation",
      "detectionMethods": [
        {"type": "object", "name": "JourneyDefinition"},
        {"type": "object", "name": "JourneyActivity"},
        {"type": "metadata", "path": "JourneyBuilderSettings", "enabled": true}
      ],
      "edition": "Enterprise+"
    },
    {
      "type": "feature",
      "name": "Mobile Studio",
      "description": "Mobile messaging capabilities",
      "productFamily": "Marketing Cloud",
      "justification": "SMS and push notification configuration indicates mobile engagement",
      "detectionMethods": [
        {"type": "object", "name": "MobileSettings"},
        {"type": "object", "name": "MobileApplication"},
        {"type": "object", "name": "PushNotification"}
      ],
      "edition": "Pro+"
    },
    {
      "type": "feature",
      "name": "Social Studio",
      "description": "Social media marketing capabilities",
      "productFamily": "Marketing Cloud",
      "justification": "Social media account connections indicate social marketing usage",
      "detectionMethods": [
        {"type": "object", "name": "SocialPost"},
        {"type": "object", "name": "SocialAccount"},
        {"type": "metadata", "path": "SocialProfileSettings", "enabled": true}
      ],
      "edition": "Enterprise+"
    },
    {
      "type": "feature",
      "name": "Advertising Studio",
      "description": "Digital advertising management",
      "productFamily": "Marketing Cloud",
      "justification": "Ad account connections indicate advertising capabilities usage",
      "detectionMethods": [
        {"type": "object", "name": "AdvertisingAccount"},
        {"type": "object", "name": "AdvertisingCampaign"},
        {"type": "metadata", "path": "AdvertisingSettings", "enabled": true}
      ],
      "edition": "Enterprise+"
    },
    {
      "type": "feature",
      "name": "Personalization",
      "description": "Content personalization and recommendations",
      "productFamily": "Marketing Cloud",
      "justification": "Personalization rules indicate advanced content targeting",
      "detectionMethods": [
        {"type": "object", "name": "PersonalizationRule"},
        {"type": "object", "name": "RecommendationStrategy"},
        {"type": "field", "object": "EmailTemplate", "pattern": "AMPscript"}
      ],
      "edition": "Pro+"
    },
    {
      "type": "feature",
      "name": "Interaction Studio",
      "description": "Real-time personalization engine",
      "productFamily": "Marketing Cloud",
      "justification": "Interaction Studio configuration indicates real-time personalization",
      "detectionMethods": [
        {"type": "object", "name": "InteractionStudioSettings"},
        {"type": "object", "name": "InteractionModel"},
        {"type": "metadata", "path": "InteractionStudioConfig", "enabled": true}
      ],
      "edition": "Enterprise+"
    },
    {
      "type": "feature",
      "name": "Datorama",
      "description": "Marketing analytics and intelligence",
      "productFamily": "Marketing Cloud",
      "justification": "Datorama connections indicate marketing analytics usage",
      "detectionMethods": [
        {"type": "object", "name": "DatoramaConnection"},
        {"type": "object", "name": "MarketingAnalytics"},
        {"type": "metadata", "path": "DatoramaSettings", "enabled": true}
      ],
      "edition": "Enterprise+"
    },
    {
      "type": "feature",
      "name": "Content Builder",
      "description": "Digital content and asset management",
      "productFamily": "Marketing Cloud",
      "justification": "Content templates and assets indicate content management usage",
      "detectionMethods": [
        {"type": "object", "name": "ContentAsset"},
        {"type": "object", "name": "ContentTemplate"},
        {"type": "object", "name": "ContentBlock"}
      ],
      "edition": "Pro+"
    },
    {
      "type": "feature",
      "name": "Automation Studio",
      "description": "Marketing automation workflows",
      "productFamily": "Marketing Cloud",
      "justification": "Automated workflows indicate process automation usage",
      "detectionMethods": [
        {"type": "object", "name": "AutomationDefinition"},
        {"type": "object", "name": "MarketingActivity"},
        {"type": "object", "name": "DataExtension"}
      ],
      "edition": "Pro+"
    },
    {
      "type": "feature",
      "name": "Einstein for Marketing",
      "description": "AI-powered marketing insights",
      "productFamily": "Marketing Cloud",
      "justification": "Einstein features indicate AI-powered marketing usage",
      "detectionMethods": [
        {"type": "object", "name": "EinsteinEngagement"},
        {"type": "object", "name": "PredictionDefinition"},
        {"type": "metadata", "path": "EinsteinSettings", "pattern": "Marketing"}
      ],
      "edition": "Enterprise+"
    },
    {
      "type": "feature",
      "name": "Data Extensions",
      "description": "Custom data management",
      "productFamily": "Marketing Cloud",
      "justification": "Data extensions indicate custom data structure usage",
      "detectionMethods": [
        {"type": "object", "name": "DataExtension"},
        {"type": "object", "name": "DataExtensionField"},
        {"type": "object", "name": "DataExtensionTemplate"}
      ],
      "edition": "Pro+"
    }
  ],
  "detectionRules": {
    "edition": {
      "Pro": {
        "requiredFeatures": ["Email Studio Base", "Content Builder"],
        "minFeatures": 2
      },
      "Enterprise": {
        "requiredFeatures": ["Email Studio Base", "Journey Builder", "Content Builder"],
        "minFeatures": 4
      },
      "Ultimate": {
        "requiredFeatures": ["Email Studio Base", "Journey Builder", "Interaction Studio"],
        "minFeatures": 6
      }
    },
    "usage": {
      "Active": {
        "minFeatures": 6,
        "requiredFeatures": ["Email Studio Base", "Journey Builder"]
      },
      "Limited": {
        "minFeatures": 3,
        "requiredFeatures": ["Email Studio Base"]
      },
      "Minimal": {
        "minFeatures": 1
      }
    }
  }
} 